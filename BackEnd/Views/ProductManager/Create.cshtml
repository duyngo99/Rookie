@model BackEnd.ViewModel.ProductCreateViewModel;

<form enctype="multipart/form-data" asp-controller="ProductManager" asp-action="Create" method="POST" class="mt-3">
    <div class="form-group row">
        <label asp-for="ProductName" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="ProductName" class="form-control" placeholder="Name">
            <span asp-validation-for="ProductName" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row">
        <label asp-for="Price" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="Price" class="form-control" placeholder="Price" type="number">
            <span asp-validation-for="Price" class="text-danger"></span>
        </div>
    </div>
     <div class="form-group row">
        <label asp-for="Description" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="Description" class="form-control" placeholder="Description">
            <span asp-validation-for="Description" class="text-danger"></span>
        </div>
    </div>
     <div class="form-group row">
        <label asp-for="CategoryID" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <input asp-for="CategoryID" class="form-control" placeholder="CategoryID" type="number">
            <span asp-validation-for="CategoryID" class="text-danger"></span>
        </div>
    </div>
     <div class="form-group row">
        <label asp-for="ProductImage" class="col-sm-2 col-form-label"></label>
        <div class="col-sm-10">
            <div class="custom-file">
                <input multi asp-for="ProductImage" class="form-control custom-file-input">
                <label class="custom-file-label">Choose File...</label>
            </div>
        </div>
    </div>

    <div asp-validation-summary="All" class="text-danger"></div>
    
    <div class="form-group row">
      <div class="col-sm-10">
          <button type="submit" class="btn btn-primary">Create</button>
      </div>
    </div>

    @section Scripts{
        <script type="text/javascript">
             $(document).ready(function(){
                 $('.custom-file-input').on("change",function(){
                     var fileName=$(this).next('.custom-file-label');
                     var files=$(this)[0].files;
                     if(files.length>1)
                     {
                         fileName.html(files.length+" files is selected")
                     }
                     else if(files.length==1)
                     {
                         fileName.html(files[0].name)
                     }
                     @* var fileName=$(this).val().split("\\").pop();
                     $(this).next('.custom-file-label').html(fileName); *@
                 });
             });
        </script>
    }
</form> 